html {
  --body-text-color: #404040;
  --body-background: #f5f5f5;
  --body-neg-text-color: #e0e0e0;
  --base-font-size: 12pt;
  --base-line-height: 27px;
  --base-leading: var(--base-line-height);

  --ff-serif: 'Garamond', 'Baskerville', serif;
  --ff-sans:  'Gill Sans', 'Gill Sans MT', 'Calibri', sans-serif;
  --ff-serif-em: 'Cormorant Garamond', 'Cambria', serif;
  --ff-sans-em:  'Lato', 'Helvetica', sans-serif;
}

@media screen and (max-width: 370px) {
  html {
    --base-font-size: 10pt;
    --base-line-height: 27px;
    --base-leading: var(--base-line-height);
  }
}

@media screen and (min-width: 1025px) {
  html {
    --base-font-size: 18pt;
    --base-line-height: 40px;
    --base-leading: var(--base-line-height);
  }
}

@media screen and (min-width: 1600px) {
  html {
    --base-font-size: 22pt;
    --base-line-height: 50px;
    --base-leading: var(--base-line-height);
  }
}

*,
h1, h2, h3, h4, h5, h6,
p {
  margin: 0px;
  padding: 0px;
}

body {
  color: var(--body-text-color);
  background-color: var(--body-background);
  font-size: var(--base-font-size);
  font-family: var(--ff-sans);
  line-height: var(--base-leading);
}

h1 { font-size: 3.375em; line-height: calc(var(--base-leading) * 3); }
h2 { font-size: 2.250em; line-height: calc(var(--base-leading) * 2); }
h3 { font-size: 1.500em; line-height: calc(var(--base-leading) * 2); }

h1, h2, h3 { font-family: var(--ff-sans-em); }

h4, h5, h6, p, li {
  font-size: var(--base-font-size);
  line-height: var(--base-leading);
}

mark {
  background: transparent;
  color: var(--body-text-color);
}

a:link { color: #1d7583; }
a:visited { color: #074d65; }
a:hover, a:focus { color: #308ac9; }
a:active { color: #54e3db; }

.background { display: none; }

.resume__tagline {
  margin-top: var(--base-leading);
  margin-bottom: var(--base-leading);

  font-size: 1.45em;
  line-height: var(--base-leading);
}

.resume__tagline em {
  color: #000;
  padding: 0px 0.2em;
}

.address dd:before {
  content: "";

  display: inline-block;
  height: var(--base-leading);
  width: 25px;

  position: relative;
  top: calc(0.1 * var(--base-leading));

  background-position: left bottom;
  background-repeat: no-repeat;
  background-size: 16px auto;
}

dd.address__physical:before { background-image: url("/icons/globe.svg"); }
dd.address__telephone:before { background-image: url("/icons/phone.svg"); }
dd.address__email:before { background-image: url("/icons/email.svg"); }
dd.address__github:before { background-image: url("/icons/github.svg"); }

.resume__job { margin-bottom: var(--base-leading); }

.job__title {
  margin: 0px;

  font-size: 1.337em;
  line-height: var(--base-leading);

  font-weight: normal;
}

.job__period { display: inline; }

.job__period::after { content: ", "; }

.job__employer {
  display: inline;
  font-size: 0.667em;
}

.job__period,
.job__employer {
  font-family: sans-serif;
  color: #808080;
}

@media screen {
  p, li { max-width: 75ex; }

  br { display: none; }

  ul { list-style: none; }

  li {
    position: relative;
    margin-left: 1em;
  }

  li::before {
    display: block;
    position: absolute;
    top: -0.1ex;
    left: -1em;
    content: "\0bb \020";
    color: #b4c2e4;
  }

  header h1 {
    font-family: 'Libre Baskerville', var(--ff-sans-em);
    text-align: center;
  }

  aside h3 {
    line-height: calc(var(--base-leading) * 1.25);
    margin-top: calc(var(--base-leading) * 0.75);
  }

  .resume__example-roles {
    font-family: var(--ff-sans);
    font-weight: normal;
    font-size: var(--base-font-size);
    line-height: var(--base-leading);
  }

  .resume__tagline { font-family: var(--ff-sans-em); }

  .resume__tagline em {
    font-size: 1.442em;
    font-style: italic;
    font-weight: 600;
    font-family: var(--ff-serif-em);
  }

  .resume__example-roles,
  .resume__tagline {
    text-align: center;
  }

  .resume__summary {
    margin-bottom: calc(2 * var(--base-leading));
    max-width: none;
  }
}

@media screen {
  body {
    display: flex;
    flex-flow: column nowrap;

    margin: 5vh 5vw calc(10vh + 1em) 5vw;
    min-height: 100vh;
    max-width: 50em;
  }

  @media (min-width: 820px) {
    body { margin-left: auto; margin-right: auto; }
  }

  header                   { order: 1; }
  .resume__summary         { order: 2; }
  aside                    { order: 3; }
  .resume__work-experience { order: 4; }
  .resume__extras          { order: 5; }
  footer                   { order: 6; }

  header {
    margin-top: 5vh;
  }

  .address {
    margin: 0px 0px var(--base-leading) 0px;
  }

  .address dt {
    position: absolute;
    left: -1000vw;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }

  .resume__languages li::before { content: ""; }

  .resume__languages li {
    margin-left: 0px;
    padding-left: 25px;

    background-repeat: no-repeat;
    background-size: 15px 15px;
    background-position: left center;
  }

  li.language__clojure    { background-image: url("/icons/clojure.svg"); }
  li.language__fsharp     { background-image: url("/icons/fsharp.svg"); }
  li.language__ruby       { background-image: url("/icons/ruby.svg"); }
  li.language__sql        { background-image: url("/icons/database.svg"); }
  li.language__html       { background-image: url("/icons/html5.svg"); }
  li.language__javascript { background-image: url("/icons/javascript.svg"); }

  li.language__javascript,
  li.language__ruby {
    background-size: 12px 12px;
    background-position: left 1px center;
  }

  .resume__work-experience h2 {
    margin-top: calc(2 * var(--base-leading));
  }

  .resume__job { margin-bottom: calc(2 * var(--base-leading)); }

  .job__period::after { content: ""; }

  .job__period, .job__employer {
    display: block;
    margin: 0px;
    line-height: var(--base-leading);
  }

  .job__accomplishments li {
    margin-top: calc(0.5 * var(--base-leading));
    margin-bottom: calc(0.5 * var(--base-leading));
  }

  .resume__extras h2   { margin-top: var(--base-leading); }
  .resume__education p { margin-bottom: var(--base-leading); }

  footer {
    margin-top: calc(2 * var(--base-leading));
    border-top: 2px solid #d0d0d0;
  }

  footer p {
    margin-top: var(--base-leading);
  }

  footer .address  {
    display: block;
    margin-top: var(--base-leading);
  }
}

@media screen and (max-width: 370px) {
  .resume__work-experience h2 {
    line-height: var(--base-leading);
    margin-bottom: var(--base-leading);
  }
}

@media screen and (max-width: 436px) {
  header h1 {
    line-height: calc(var(--base-leading) * 2);
    margin-bottom: var(--base-leading);
  }
}

@media screen and (min-width: 436px) {
  header .address {
    display: flex;
    flex-flow: row wrap;
    align-content: center;
    justify-content: center;
  }

  header .address dd { display: block; padding-right: 0px; }

  header .address__city {
    position: absolute;
    left: -1000vw;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }

  header dd.address__github    { flex: 0 0 35%;  order: 1; }
  header dd.address__telephone { flex: 0 0 35%;  order: 2; }
  header dd.address__physical  { flex: 0 0 30%;  order: 3; }
  header dd.address__email     { flex: 0 0 auto; order: 4; }

  header dd.address__email     { margin: 0px auto 0px 35%; }

  header dd.address__physical  { text-align: right; }
}

@media screen and (min-height: 736px) {
  header .address { margin-top: calc(2 * var(--base-leading)); }
}

@media screen and (min-width: 765px) {
  li { margin-left: 0px; }

  aside {
    display: flex;
    flex-flow: row wrap;
    align-content: center;
    justify-content: center;
    margin-bottom: var(--base-leading);
  }

  aside li { margin-left: 0px; }

  .resume__competencies { flex: 0 0 40%; }
  .resume__languages    { flex: 0 0 35%; }
  .resume__technologies { flex: 0 0 20%; }

  aside h3 {
    width: 1em; /* force word wrapping */
    line-height: var(--base-leading);
    margin-top: var(--base-leading);
    margin-bottom: var(--base-leading);
  }
}

@media screen and (min-width: 820px) {
  .resume__extras { display: flex; }

  .resume__education { flex: 1; margin-right: 3em; }
  .resume__interests { flex: 1; }

  .resume__education p {
    margin-bottom: var(--base-leading);
    font-size: 0.8335em;
    width: 70ex;
  }
}

@media screen {
  header {
    display: flex;
    flex-flow: column nowrap;
    align-items: center;
    justify-content: center;

    height: 100vh;
    margin: 0px 0px;
  }

  .background--active { display: block; }

  .background__image,
  .background__overlay {
    display: block;
    position: fixed;
    top: 0px;
    bottom: 0px;
    left: 0px;
    right: 0px;
    z-index: -1;

    background-size: cover;
    background-position: top center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    filter: grayscale(0.6) brightness(0.6);
  }

  .background__overlay { filter: none; }

  .background__credit {
    position: absolute;
    top: 1vh;
    right: 2vw;
    padding: 2px 6px;

    font-size: 0.8335em;
    text-decoration: none;
  }


  .background__credit,
  .background__credit:link,
  .background__credit:visited,
  .background__credit:hover,
  .background__credit:active,
  .background__credit:focus {
    color: #f0f0f0;
  }

  .background__credit svg path { fill: #939393; }

  .credit__icon,
  .credit__attribution {
    display: inline-block;
    padding: 2px 3px;
  }

  .credit__attribution { text-indent: -1000vw; }
  .background__credit:hover .credit__attribution { text-indent: 0px; }
  .background__credit:hover svg path { fill: #f0f0f0; }

  .background__overlay {
    background: linear-gradient(rgba(245, 245, 245, 0), rgba(245, 245, 245, 0));
  }

  .header--invert { color: var(--body-neg-text-color); }
  .header--invert a:link { color: var(--body-neg-text-color); }
  .header--invert a:visited { color: var(--body-neg-text-color); }
  .header--invert a:hover { color: #54e3db; }
  .header--invert a:focus { color: #54e3db; }
  .header--invert a:active { color: #1d7583; }

  .header--invert dd:before { filter: invert(1); }

  .resume__tagline em {
    padding: 0px 0.25em 0px 0.15em;
    color: rgba(0, 0, 0, 0);

    text-shadow:
      0px 0px 0 rgb(217,31,38)
    , 1px 1px 0 rgb(226,91,14)
    , 2px 2px 0 rgb(245,221,8)
    , 3px 3px 0 rgb(5,148,68)
    , 4px 4px 0 rgb(2,135,206)
    , 5px 5px 0 rgb(4,77,145)
    , 6px 6px 0 rgb(42,21,113)
    ;

    transition: all 600ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .resume__tagline:hover em {
    text-shadow:
       0px -0px 0 rgb(217,31,38)
    , -1px -1px 0 rgb(226,91,14)
    , -2px -2px 0 rgb(245,221,8)
    , -3px -3px 0 rgb(5,148,68)
    , -4px -4px 0 rgb(2,135,206)
    , -5px -5px 0 rgb(4,77,145)
    , -6px -6px 0 rgb(42,21,113)
    ;
  }
}
